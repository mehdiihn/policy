<!-- Generated by SpecStory -->

# User and Policy Page Field Specifications (2025-05-25 01:38:12)

_**User**_

@page.tsx Make sure this page creates a user and a policy and remove all the extra fields that are not present in @page.tsx  since we need



Make:
Model:
Year:
Color:

Vehicle Specs
Power:
Gearbox:

Engine & Fuel
Engine Capacity:
Cylinders:
Fuel Type

MOT & Tax
MOT Expiry:
Tax status:
Tax Due:

(When I enter a reg whatever is autofilled is good and whatever is left out I or the sub admin will manually add it)

---

_**Assistant**_



---

I'll help you simplify the admin policy creation page to only include the essential fields you specified and ensure it creates both a user and a policy. Let me update the page to remove all the extra fields.

---

```diff
      endDate: "",
  
-     // Vehicle Information
+     // Vehicle Information - Basic
      make: "",
      model: "",
      colour: "",
      yearOfManufacture: "",
-     topSpeed: "",
-     acceleration: "",
+ 
+     // Vehicle Specs
+     power: "",
      gearbox: "",
  
      // Engine & Fuel
-     power: "",
-     maxTorque: "",
      engineCapacity: "",
      cylinders: "",
      fuelType: "",
-     consumptionCity: "",
-     consumptionExtraUrban: "",
-     consumptionCombined: "",
-     co2Emission: "",
-     co2Label: "",
  
-     // MOT Information
+     // MOT & Tax
      motExpiryDate: "",
-     motPassRate: "",
-     motPassed: "",
-     motFailed: "",
-     totalAdviceItems: "",
-     totalItemsFailed: "",
- 
-     // Tax & MOT Status
      taxStatus: "",
      taxDue: "",
- 
-     // Safety Ratings
-     ncapAdult: "",
-     ncapChildren: "",
-     ncapPedestrian: "",
-     ncapSafetySystems: "",
-     ncapOverall: "",
- 
-     // Dimensions & Weight
-     width: "",
-     height: "",
-     length: "",
-     wheelBase: "",
-     maxAllowedWeight: "",
- 
-     // Additional Information
-     fuelTankCapacity: "",
-     fuelDelivery: "",
-     numberOfDoors: "",
-     numberOfSeats: "",
-     numberOfAxles: "",
-     engineNumber: "",
    });
  
```

```diff
              result.data.yearOfManufacture.toString();
  
-         // Performance specs
-         if (result.data.topSpeed)
-           newFormData.topSpeed = result.data.topSpeed.toString();
-         if (result.data.acceleration0to60)
-           newFormData.acceleration = result.data.acceleration0to60.toString();
+         // Vehicle specs
+         if (result.data.engine?.power)
+           newFormData.power = result.data.engine.power.toString();
          if (result.data.gearbox) newFormData.gearbox = result.data.gearbox;
  
-         // Engine specifications
-         if (result.data.engine) {
-           if (result.data.engine.power)
-             newFormData.power = result.data.engine.power.toString();
-           if (result.data.engine.maxTorque?.value)
-             newFormData.maxTorque =
-               result.data.engine.maxTorque.value.toString();
-           if (result.data.engine.capacity)
-             newFormData.engineCapacity = result.data.engine.capacity.toString();
-           if (result.data.engine.cylinders)
-             newFormData.cylinders = result.data.engine.cylinders.toString();
-           if (result.data.engine.fuelType)
-             newFormData.fuelType = result.data.engine.fuelType;
-           if (result.data.engine.fuelDelivery)
-             newFormData.fuelDelivery = result.data.engine.fuelDelivery;
-           if (result.data.engine.engineNumber)
-             newFormData.engineNumber = result.data.engine.engineNumber;
-         }
- 
-         // Fuel consumption
-         if (result.data.fuelConsumption) {
-           if (result.data.fuelConsumption.city)
-             newFormData.consumptionCity =
-               result.data.fuelConsumption.city.toString();
-           if (result.data.fuelConsumption.extraUrban)
-             newFormData.consumptionExtraUrban =
-               result.data.fuelConsumption.extraUrban.toString();
-           if (result.data.fuelConsumption.combined)
-             newFormData.consumptionCombined =
-               result.data.fuelConsumption.combined.toString();
-         }
- 
-         // Emissions
-         if (result.data.emissions) {
-           if (result.data.emissions.co2)
-             newFormData.co2Emission = result.data.emissions.co2.toString();
-           if (result.data.emissions.co2Label)
-             newFormData.co2Label = result.data.emissions.co2Label;
-         }
- 
-         // MOT information
-         if (result.data.mot) {
-           if (result.data.mot.expiryDate)
-             newFormData.motExpiryDate = result.data.mot.expiryDate;
-           if (result.data.mot.passRate)
-             newFormData.motPassRate = result.data.mot.passRate.toString();
-           if (result.data.mot.totalPassed)
-             newFormData.motPassed = result.data.mot.totalPassed.toString();
-           if (result.data.mot.totalFailed)
-             newFormData.motFailed = result.data.mot.totalFailed.toString();
-           if (result.data.mot.totalAdviceItems)
-             newFormData.totalAdviceItems =
-               result.data.mot.totalAdviceItems.toString();
-           if (result.data.mot.totalFailedItems)
-             newFormData.totalItemsFailed =
-               result.data.mot.totalFailedItems.toString();
-         }
- 
-         // Tax information
-         if (result.data.tax) {
-           if (result.data.tax.status)
-             newFormData.taxStatus = result.data.tax.status;
-           if (result.data.tax.dueDate)
-             newFormData.taxDue = result.data.tax.dueDate;
-         }
- 
-         // Safety ratings
-         if (result.data.safety) {
-           if (result.data.safety.adult)
-             newFormData.ncapAdult = result.data.safety.adult.toString();
-           if (result.data.safety.children)
-             newFormData.ncapChildren = result.data.safety.children.toString();
-           if (result.data.safety.pedestrian)
-             newFormData.ncapPedestrian =
-               result.data.safety.pedestrian.toString();
-           if (result.data.safety.safetySystems)
-             newFormData.ncapSafetySystems =
-               result.data.safety.safetySystems.toString();
-           if (result.data.safety.overall)
-             newFormData.ncapOverall = result.data.safety.overall.toString();
-         }
- 
-         // Dimensions
-         if (result.data.dimensions) {
-           if (result.data.dimensions.width)
-             newFormData.width = result.data.dimensions.width.toString();
-           if (result.data.dimensions.height)
-             newFormData.height = result.data.dimensions.height.toString();
-           if (result.data.dimensions.length)
-             newFormData.length = result.data.dimensions.length.toString();
-           if (result.data.dimensions.wheelBase)
-             newFormData.wheelBase = result.data.dimensions.wheelBase.toString();
-           if (result.data.dimensions.maxAllowedWeight)
-             newFormData.maxAllowedWeight =
-               result.data.dimensions.maxAllowedWeight.toString();
-         }
- 
-         // Additional specifications
-         if (result.data.specifications) {
-           if (result.data.specifications.fuelTankCapacity)
-             newFormData.fuelTankCapacity =
-               result.data.specifications.fuelTankCapacity.toString();
-           if (result.data.specifications.numberOfDoors)
-             newFormData.numberOfDoors =
-               result.data.specifications.numberOfDoors.toString();
-           if (result.data.specifications.numberOfSeats)
-             newFormData.numberOfSeats =
-               result.data.specifications.numberOfSeats.toString();
-           if (result.data.specifications.numberOfAxles)
-             newFormData.numberOfAxles =
-               result.data.specifications.numberOfAxles.toString();
-         }
+         // Engine & Fuel
+         if (result.data.engine?.capacity)
+           newFormData.engineCapacity = result.data.engine.capacity.toString();
+         if (result.data.engine?.cylinders)
+           newFormData.cylinders = result.data.engine.cylinders.toString();
+         if (result.data.engine?.fuelType)
+           newFormData.fuelType = result.data.engine.fuelType;
+ 
+         // MOT & Tax information
+         if (result.data.mot?.expiryDate)
+           newFormData.motExpiryDate = result.data.mot.expiryDate;
+         if (result.data.tax?.status)
+           newFormData.taxStatus = result.data.tax.status;
+         if (result.data.tax?.dueDate)
+           newFormData.taxDue = result.data.tax.dueDate;
  
          // Update the form data state
```

```diff
  
      // Transform vehicle data to match Policy schema
-     let vehicleInfo: any = {};
- 
-     if (vehicleData) {
-       vehicleInfo = {
-         make: vehicleData.make || "",
-         model: vehicleData.carModel || "",
-         colour: vehicleData.colour || "",
-         yearOfManufacture: vehicleData.yearOfManufacture || 0,
-         topSpeed: vehicleData.topSpeed || "",
-         acceleration: vehicleData.acceleration0to60 || "",
-         gearbox: vehicleData.gearbox || "",
-         power: vehicleData.engine?.power
-           ? `${vehicleData.engine.power} HP`
-           : "",
-         maxTorque: vehicleData.engine?.maxTorque?.value
-           ? `${vehicleData.engine.maxTorque.value} Nm`
-           : "",
-         engineCapacity: vehicleData.engine?.capacity
-           ? `${vehicleData.engine.capacity}L`
-           : "",
-         cylinders: vehicleData.engine?.cylinders || 0,
-         fuelType: vehicleData.engine?.fuelType || "",
-         consumptionCity: vehicleData.fuelConsumption?.city
-           ? `${vehicleData.fuelConsumption.city}L/100km`
-           : "",
-         consumptionExtraUrban: vehicleData.fuelConsumption?.extraUrban
-           ? `${vehicleData.fuelConsumption.extraUrban}L/100km`
-           : "",
-         consumptionCombined: vehicleData.fuelConsumption?.combined
-           ? `${vehicleData.fuelConsumption.combined}L/100km`
-           : "",
-         co2Emission: vehicleData.emissions?.co2
-           ? `${vehicleData.emissions.co2} g/km`
-           : "",
-         co2Label: vehicleData.emissions?.co2Label || "",
-         motExpiryDate: vehicleData.mot?.expiryDate
-           ? new Date(vehicleData.mot.expiryDate)
-           : undefined,
-         motPassRate: vehicleData.mot?.passRate
-           ? `${vehicleData.mot.passRate}%`
-           : "",
-         motPassed: vehicleData.mot?.totalPassed || 0,
-         motFailed: vehicleData.mot?.totalFailed || 0,
-         totalAdviceItems: vehicleData.mot?.totalAdviceItems || 0,
-         totalItemsFailed: vehicleData.mot?.totalFailedItems || 0,
-         taxStatus: vehicleData.tax?.status || "",
-         taxDue: vehicleData.tax?.dueDate
-           ? new Date(vehicleData.tax.dueDate)
-           : undefined,
-         ncapRating: vehicleData.safety
-           ? {
-               adult: vehicleData.safety.adult
-                 ? `${vehicleData.safety.adult}%`
-                 : "",
-               children: vehicleData.safety.children
-                 ? `${vehicleData.safety.children}%`
-                 : "",
-               pedestrian: vehicleData.safety.pedestrian
-                 ? `${vehicleData.safety.pedestrian}%`
-                 : "",
-               safetySystems: vehicleData.safety.safetySystems
-                 ? `${vehicleData.safety.safetySystems}%`
-                 : "",
-               overall: vehicleData.safety.overall
-                 ? `${vehicleData.safety.overall} stars`
-                 : "",
-             }
-           : undefined,
-         dimensions: vehicleData.dimensions
-           ? {
-               width: vehicleData.dimensions.width
-                 ? `${vehicleData.dimensions.width}mm`
-                 : "",
-               height: vehicleData.dimensions.height
-                 ? `${vehicleData.dimensions.height}mm`
-                 : "",
-               length: vehicleData.dimensions.length
-                 ? `${vehicleData.dimensions.length}mm`
-                 : "",
-               wheelBase: vehicleData.dimensions.wheelBase
-                 ? `${vehicleData.dimensions.wheelBase}mm`
-                 : "",
-               maxAllowedWeight: vehicleData.dimensions.maxAllowedWeight
-                 ? `${vehicleData.dimensions.maxAllowedWeight}kg`
-                 : "",
-             }
-           : undefined,
-         fuelTankCapacity: vehicleData.specifications?.fuelTankCapacity
-           ? `${vehicleData.specifications.fuelTankCapacity}L`
-           : "",
-         fuelDelivery: vehicleData.engine?.fuelDelivery || "",
-         numberOfDoors: vehicleData.specifications?.numberOfDoors || 0,
-         numberOfSeats: vehicleData.specifications?.numberOfSeats || 0,
-         numberOfAxles: vehicleData.specifications?.numberOfAxles || 0,
-         engineNumber: vehicleData.engine?.engineNumber || "",
-       };
-     }
+     const vehicleInfo = {
+       make: formData.make || "",
+       model: formData.model || "",
+       colour: formData.colour || "",
+       yearOfManufacture: formData.yearOfManufacture ? parseInt(formData.yearOfManufacture) : 0,
+       power: formData.power ? `${formData.power} BHP` : "",
+       gearbox: formData.gearbox || "",
+       engineCapacity: formData.engineCapacity ? `${formData.engineCapacity}L` : "",
+       cylinders: formData.cylinders ? parseInt(formData.cylinders) : 0,
+       fuelType: formData.fuelType || "",
+       motExpiryDate: formData.motExpiryDate ? new Date(formData.motExpiryDate) : undefined,
+       taxStatus: formData.taxStatus || "",
+       taxDue: formData.taxDue ? new Date(formData.taxDue) : undefined,
+     };
  
      try {
```

```diff
        if (response.ok) {
          setSuccess(
-           `Policy created successfully! ${
+           `Policy and user created successfully! ${
              sendEmail
                ? "User account created and confirmation email sent."
```

```diff
              <div>
                <h1 className="text-3xl font-bold text-gray-900">
-                 Create Policy (Admin)
+                 Create Policy & User (Admin)
                </h1>
                <p className="text-gray-600">
```

```diff
                    <CardTitle className="flex items-center gap-2">
                      <Car className="h-5 w-5" />
-                     Vehicle Information
+                     Vehicle Information Preview
                    </CardTitle>
                    <CardDescription>
```

```diff
                        </div>
                      )}
+                     {vehicleData.gearbox && (
+                       <div>
+                         <Label className="text-sm text-gray-600">Gearbox</Label>
+                         <p className="font-medium">{vehicleData.gearbox}</p>
+                       </div>
+                     )}
  
                      {/* MOT & Tax */}
```

```diff
                        </div>
                      )}
+                     {vehicleData.tax?.status && (
+                       <div>
+                         <Label className="text-sm text-gray-600">Tax Status</Label>
+                         <p className="font-medium">{vehicleData.tax.status}</p>
+                       </div>
+                     )}
                      {vehicleData.tax?.dueDate && (
                        <div>
```

```diff
                        </div>
                      )}
- 
-                     {/* Performance */}
-                     {vehicleData.acceleration0to60 && (
-                       <div>
-                         <Label className="text-sm text-gray-600">
-                           0-60 mph
-                         </Label>
-                         <p className="font-medium">
-                           {vehicleData.acceleration0to60}s
-                         </p>
-                       </div>
-                     )}
-                     {vehicleData.topSpeed && (
-                       <div>
-                         <Label className="text-sm text-gray-600">
-                           Top Speed
-                         </Label>
-                         <p className="font-medium">
-                           {vehicleData.topSpeed} mph
-                         </p>
-                       </div>
-                     )}
- 
-                     {/* Emissions */}
-                     {vehicleData.emissions?.co2 && (
-                       <div>
-                         <Label className="text-sm text-gray-600">
-                           CO₂ Emissions
-                         </Label>
-                         <p className="font-medium">
-                           {vehicleData.emissions.co2} g/km
-                         </p>
-                       </div>
-                     )}
- 
-                     {/* Current Mileage */}
-                     {vehicleData.mileage?.history &&
-                       vehicleData.mileage.history.length > 0 && (
-                         <div>
-                           <Label className="text-sm text-gray-600">
-                             Current Mileage
-                           </Label>
-                           <p className="font-medium">
-                             {vehicleData.mileage.history[
-                               vehicleData.mileage.history.length - 1
-                             ].mileage.toLocaleString()}{" "}
-                             miles
-                           </p>
-                         </div>
-                       )}
-                   </div>
- 
-                   {/* MOT History Summary */}
-                   {vehicleData.mot?.history &&
-                     vehicleData.mot.history.length > 0 && (
-                       <div className="mt-6">
-                         <Label className="text-sm text-gray-600">
-                           MOT History
-                         </Label>
-                         <p className="text-sm text-gray-500 mt-1">
-                           Pass rate: {vehicleData.mot.passRate}% • Passed:{" "}
-                           {vehicleData.mot.totalPassed} • Failed:{" "}
-                           {vehicleData.mot.totalFailed}
-                         </p>
-                       </div>
-                     )}
+                   </div>
                  </CardContent>
                </Card>
              )}
  
-             {/* Vehicle Details Form - Auto-populated from car data */}
+             {/* Vehicle Details Form */}
              <Card>
                <CardHeader>
```

```diff
                      Basic Information
                    </h4>
-                   <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
+                   <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                      <div className="space-y-2">
                        <Label htmlFor="make">Make</Label>
```

```diff
                      </div>
                      <div className="space-y-2">
-                       <Label htmlFor="colour">Colour</Label>
+                       <Label htmlFor="colour">Color</Label>
                        <Input
                          id="colour"
```

```diff
                      </div>
                      <div className="space-y-2">
-                       <Label htmlFor="yearOfManufacture">
-                         Year of Manufacture
-                       </Label>
+                       <Label htmlFor="yearOfManufacture">Year</Label>
                        <Input
                          id="yearOfManufacture"
```

```diff
                        />
                      </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="topSpeed">Top Speed (mph)</Label>
-                       <Input
-                         id="topSpeed"
-                         type="number"
-                         value={formData.topSpeed}
-                         onChange={(e) =>
-                           handleInputChange("topSpeed", e.target.value)
-                         }
-                         placeholder="e.g., 120"
-                       />
-                     </div>
+                   </div>
+                 </div>
+ 
+                 {/* Vehicle Specs */}
+                 <div>
+                   <h4 className="text-sm font-medium text-gray-900 mb-3">
+                     Vehicle Specs
+                   </h4>
+                   <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div className="space-y-2">
-                       <Label htmlFor="acceleration">0-60 mph (seconds)</Label>
+                       <Label htmlFor="power">Power (BHP)</Label>
                        <Input
-                         id="acceleration"
+                         id="power"
                          type="number"
-                         step="0.1"
-                         value={formData.acceleration}
+                         value={formData.power}
                          onChange={(e) =>
-                           handleInputChange("acceleration", e.target.value)
+                           handleInputChange("power", e.target.value)
                          }
-                         placeholder="e.g., 8.5"
+                         placeholder="e.g., 140"
                        />
                      </div>
```

```diff
                  </div>
  
-                 {/* Engine Specifications */}
+                 {/* Engine & Fuel */}
                  <div>
                    <h4 className="text-sm font-medium text-gray-900 mb-3">
-                     Engine Specifications
+                     Engine & Fuel
                    </h4>
-                   <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
+                   <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                      <div className="space-y-2">
-                       <Label htmlFor="power">Power (BHP)</Label>
-                       <Input
-                         id="power"
-                         type="number"
-                         value={formData.power}
-                         onChange={(e) =>
-                           handleInputChange("power", e.target.value)
-                         }
-                         placeholder="e.g., 140"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="maxTorque">Max Torque (Nm)</Label>
-                       <Input
-                         id="maxTorque"
-                         type="number"
-                         value={formData.maxTorque}
-                         onChange={(e) =>
-                           handleInputChange("maxTorque", e.target.value)
-                         }
-                         placeholder="e.g., 220"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="engineCapacity">
-                         Engine Capacity (cc)
-                       </Label>
+                       <Label htmlFor="engineCapacity">Engine Capacity (L)</Label>
                        <Input
                          id="engineCapacity"
                          type="number"
+                         step="0.1"
                          value={formData.engineCapacity}
                          onChange={(e) =>
                            handleInputChange("engineCapacity", e.target.value)
                          }
-                         placeholder="e.g., 1800"
+                         placeholder="e.g., 1.8"
                        />
                      </div>
```

```diff
                        />
                      </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="fuelDelivery">Fuel Delivery</Label>
-                       <Input
-                         id="fuelDelivery"
-                         value={formData.fuelDelivery}
-                         onChange={(e) =>
-                           handleInputChange("fuelDelivery", e.target.value)
-                         }
-                         placeholder="e.g., Direct Injection"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="engineNumber">Engine Number</Label>
-                       <Input
-                         id="engineNumber"
-                         value={formData.engineNumber}
-                         onChange={(e) =>
-                           handleInputChange("engineNumber", e.target.value)
-                         }
-                         placeholder="Engine number"
-                       />
-                     </div>
                    </div>
                  </div>
  
-                 {/* Fuel Consumption & Emissions */}
+                 {/* MOT & Tax */}
                  <div>
                    <h4 className="text-sm font-medium text-gray-900 mb-3">
-                     Fuel Consumption & Emissions
+                     MOT & Tax
                    </h4>
-                   <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
+                   <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                      <div className="space-y-2">
-                       <Label htmlFor="consumptionCity">City MPG</Label>
-                       <Input
-                         id="consumptionCity"
-                         type="number"
-                         step="0.1"
-                         value={formData.consumptionCity}
-                         onChange={(e) =>
-                           handleInputChange("consumptionCity", e.target.value)
-                         }
-                         placeholder="e.g., 35.5"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="consumptionExtraUrban">
-                         Extra Urban MPG
-                       </Label>
-                       <Input
-                         id="consumptionExtraUrban"
-                         type="number"
-                         step="0.1"
-                         value={formData.consumptionExtraUrban}
-                         onChange={(e) =>
-                           handleInputChange(
-                             "consumptionExtraUrban",
-                             e.target.value
-                           )
-                         }
-                         placeholder="e.g., 55.2"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="consumptionCombined">Combined MPG</Label>
-                       <Input
-                         id="consumptionCombined"
-                         type="number"
-                         step="0.1"
-                         value={formData.consumptionCombined}
-                         onChange={(e) =>
-                           handleInputChange(
-                             "consumptionCombined",
-                             e.target.value
-                           )
-                         }
-                         placeholder="e.g., 45.6"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="co2Emission">CO₂ Emissions (g/km)</Label>
-                       <Input
-                         id="co2Emission"
-                         type="number"
-                         value={formData.co2Emission}
-                         onChange={(e) =>
-                           handleInputChange("co2Emission", e.target.value)
-                         }
-                         placeholder="e.g., 144"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="co2Label">CO₂ Label</Label>
-                       <Input
-                         id="co2Label"
-                         value={formData.co2Label}
-                         onChange={(e) =>
-                           handleInputChange("co2Label", e.target.value)
-                         }
-                         placeholder="e.g., D"
-                       />
-                     </div>
-                   </div>
-                 </div>
- 
-                 {/* MOT Information */}
-                 <div>
-                   <h4 className="text-sm font-medium text-gray-900 mb-3">
-                     MOT Information
-                   </h4>
-                   <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
-                     <div className="space-y-2">
-                       <Label htmlFor="motExpiryDate">MOT Expiry Date</Label>
+                       <Label htmlFor="motExpiryDate">MOT Expiry</Label>
                        <Input
                          id="motExpiryDate"
```

```diff
                        />
                      </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="motPassRate">MOT Pass Rate (%)</Label>
-                       <Input
-                         id="motPassRate"
-                         type="number"
-                         step="0.1"
-                         value={formData.motPassRate}
-                         onChange={(e) =>
-                           handleInputChange("motPassRate", e.target.value)
-                         }
-                         placeholder="e.g., 85.5"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="motPassed">MOT Tests Passed</Label>
-                       <Input
-                         id="motPassed"
-                         type="number"
-                         value={formData.motPassed}
-                         onChange={(e) =>
-                           handleInputChange("motPassed", e.target.value)
-                         }
-                         placeholder="e.g., 5"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="motFailed">MOT Tests Failed</Label>
-                       <Input
-                         id="motFailed"
-                         type="number"
-                         value={formData.motFailed}
-                         onChange={(e) =>
-                           handleInputChange("motFailed", e.target.value)
-                         }
-                         placeholder="e.g., 1"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="totalAdviceItems">
-                         Total Advice Items
-                       </Label>
-                       <Input
-                         id="totalAdviceItems"
-                         type="number"
-                         value={formData.totalAdviceItems}
-                         onChange={(e) =>
-                           handleInputChange("totalAdviceItems", e.target.value)
-                         }
-                         placeholder="e.g., 3"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="totalItemsFailed">
-                         Total Items Failed
-                       </Label>
-                       <Input
-                         id="totalItemsFailed"
-                         type="number"
-                         value={formData.totalItemsFailed}
-                         onChange={(e) =>
-                           handleInputChange("totalItemsFailed", e.target.value)
-                         }
-                         placeholder="e.g., 0"
-                       />
-                     </div>
-                   </div>
-                 </div>
- 
-                 {/* Tax Information */}
-                 <div>
-                   <h4 className="text-sm font-medium text-gray-900 mb-3">
-                     Tax Information
-                   </h4>
-                   <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div className="space-y-2">
                        <Label htmlFor="taxStatus">Tax Status</Label>
```

```diff
                      </div>
                      <div className="space-y-2">
-                       <Label htmlFor="taxDue">Tax Due Date</Label>
+                       <Label htmlFor="taxDue">Tax Due</Label>
                        <Input
                          id="taxDue"
```

```diff
                    </div>
                  </div>
- 
-                 {/* Safety Ratings */}
-                 <div>
-                   <h4 className="text-sm font-medium text-gray-900 mb-3">
-                     NCAP Safety Ratings (%)
-                   </h4>
-                   <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
-                     <div className="space-y-2">
-                       <Label htmlFor="ncapAdult">Adult</Label>
-                       <Input
-                         id="ncapAdult"
-                         type="number"
-                         min="0"
-                         max="100"
-                         value={formData.ncapAdult}
-                         onChange={(e) =>
-                           handleInputChange("ncapAdult", e.target.value)
-                         }
-                         placeholder="e.g., 90"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="ncapChildren">Children</Label>
-                       <Input
-                         id="ncapChildren"
-                         type="number"
-                         min="0"
-                         max="100"
-                         value={formData.ncapChildren}
-                         onChange={(e) =>
-                           handleInputChange("ncapChildren", e.target.value)
-                         }
-                         placeholder="e.g., 85"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="ncapPedestrian">Pedestrian</Label>
-                       <Input
-                         id="ncapPedestrian"
-                         type="number"
-                         min="0"
-                         max="100"
-                         value={formData.ncapPedestrian}
-                         onChange={(e) =>
-                           handleInputChange("ncapPedestrian", e.target.value)
-                         }
-                         placeholder="e.g., 75"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="ncapSafetySystems">Safety Systems</Label>
-                       <Input
-                         id="ncapSafetySystems"
-                         type="number"
-                         min="0"
-                         max="100"
-                         value={formData.ncapSafetySystems}
-                         onChange={(e) =>
-                           handleInputChange("ncapSafetySystems", e.target.value)
-                         }
-                         placeholder="e.g., 80"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="ncapOverall">Overall</Label>
-                       <Input
-                         id="ncapOverall"
-                         type="number"
-                         min="0"
-                         max="100"
-                         value={formData.ncapOverall}
-                         onChange={(e) =>
-                           handleInputChange("ncapOverall", e.target.value)
-                         }
-                         placeholder="e.g., 85"
-                       />
-                     </div>
-                   </div>
-                 </div>
- 
-                 {/* Dimensions & Specifications */}
-                 <div>
-                   <h4 className="text-sm font-medium text-gray-900 mb-3">
-                     Dimensions & Specifications
-                   </h4>
-                   <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
-                     <div className="space-y-2">
-                       <Label htmlFor="width">Width (mm)</Label>
-                       <Input
-                         id="width"
-                         type="number"
-                         value={formData.width}
-                         onChange={(e) =>
-                           handleInputChange("width", e.target.value)
-                         }
-                         placeholder="e.g., 1755"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="height">Height (mm)</Label>
-                       <Input
-                         id="height"
-                         type="number"
-                         value={formData.height}
-                         onChange={(e) =>
-                           handleInputChange("height", e.target.value)
-                         }
-                         placeholder="e.g., 1440"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="length">Length (mm)</Label>
-                       <Input
-                         id="length"
-                         type="number"
-                         value={formData.length}
-                         onChange={(e) =>
-                           handleInputChange("length", e.target.value)
-                         }
-                         placeholder="e.g., 4315"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="wheelBase">Wheel Base (mm)</Label>
-                       <Input
-                         id="wheelBase"
-                         type="number"
-                         value={formData.wheelBase}
-                         onChange={(e) =>
-                           handleInputChange("wheelBase", e.target.value)
-                         }
-                         placeholder="e.g., 2620"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="maxAllowedWeight">
-                         Max Allowed Weight (kg)
-                       </Label>
-                       <Input
-                         id="maxAllowedWeight"
-                         type="number"
-                         value={formData.maxAllowedWeight}
-                         onChange={(e) =>
-                           handleInputChange("maxAllowedWeight", e.target.value)
-                         }
-                         placeholder="e.g., 1850"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="fuelTankCapacity">
-                         Fuel Tank Capacity (L)
-                       </Label>
-                       <Input
-                         id="fuelTankCapacity"
-                         type="number"
-                         value={formData.fuelTankCapacity}
-                         onChange={(e) =>
-                           handleInputChange("fuelTankCapacity", e.target.value)
-                         }
-                         placeholder="e.g., 50"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="numberOfDoors">Number of Doors</Label>
-                       <Input
-                         id="numberOfDoors"
-                         type="number"
-                         value={formData.numberOfDoors}
-                         onChange={(e) =>
-                           handleInputChange("numberOfDoors", e.target.value)
-                         }
-                         placeholder="e.g., 5"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="numberOfSeats">Number of Seats</Label>
-                       <Input
-                         id="numberOfSeats"
-                         type="number"
-                         value={formData.numberOfSeats}
-                         onChange={(e) =>
-                           handleInputChange("numberOfSeats", e.target.value)
-                         }
-                         placeholder="e.g., 5"
-                       />
-                     </div>
-                     <div className="space-y-2">
-                       <Label htmlFor="numberOfAxles">Number of Axles</Label>
-                       <Input
-                         id="numberOfAxles"
-                         type="number"
-                         value={formData.numberOfAxles}
-                         onChange={(e) =>
-                           handleInputChange("numberOfAxles", e.target.value)
-                         }
-                         placeholder="e.g., 2"
-                       />
-                     </div>
-                   </div>
-                 </div>
                </CardContent>
              </Card>
```

```diff
                  className="bg-green-600 hover:bg-green-700"
                >
-                 {isLoading ? "Creating Policy..." : "Create Policy"}
+                 {isLoading ? "Creating Policy & User..." : "Create Policy & User"}
                </Button>
              </div>
```

---

Perfect! I've successfully simplified the admin policy creation page to only include the essential fields you specified:

## **Changes Made:**

1. **Simplified Form Fields** - Removed all unnecessary vehicle fields and kept only:
   - **Basic Info**: Make, Model, Year, Color
   - **Vehicle Specs**: Power, Gearbox  
   - **Engine & Fuel**: Engine Capacity, Cylinders, Fuel Type
   - **MOT & Tax**: MOT Expiry, Tax Status, Tax Due

2. **Updated Page Title** - Changed to "Create Policy & User (Admin)" to reflect that it creates both

3. **Streamlined Vehicle Data Population** - The auto-lookup functionality now only populates the essential fields

4. **Simplified Vehicle Info Object** - Only sends the essential vehicle data to the API

5. **Updated Success Messages** - Now clearly states "Policy and user created successfully"

6. **Improved Layout** - Organized the fields into logical sections with better spacing

## **Key Features Retained:**

- ✅ **User Creation** - Creates a new user account with the provided details
- ✅ **Policy Creation** - Creates a new insurance policy linked to the user
- ✅ **Vehicle Lookup** - Auto-populates fields when entering a registration number
- ✅ **Manual Editing** - All fields can be manually edited after auto-population
- ✅ **Email Options** - Choice to send confirmation email or display credentials
- ✅ **Authentication** - Admin-only access

The form is now much cleaner and focuses only on the essential vehicle information that matches what's displayed in the policy detail page. When you enter a registration number, it will auto-fill whatever data is available, and you can manually add any missing information as needed.

---

